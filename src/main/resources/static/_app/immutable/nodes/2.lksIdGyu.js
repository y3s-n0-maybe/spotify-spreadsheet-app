import{f as x,a as g}from"../chunks/dCp5yQE-.js";import{i as A}from"../chunks/BM8G_BU0.js";import{o as M}from"../chunks/DbxLcy9u.js";import{h as _,a1 as w,a2 as E,a3 as T,a4 as $,O as I,a5 as L,G as N,X as p,q as G,k as c,K as O,V as m,W as y,l as P,m as R}from"../chunks/HdAPPha1.js";import{b as V,l as q,e as C}from"../chunks/BCYTc9ki.js";import{s as D,a as H,b as K}from"../chunks/Cwx8ikkR.js";import{t as k}from"../chunks/DEoqk29U.js";const U=Symbol("is custom element"),B=Symbol("is html");function W(e){if(_){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var o=e.value;S(e,"value",null),e.value=o}if(e.hasAttribute("checked")){var s=e.checked;S(e,"checked",null),e.checked=s}}};e.__on_r=t,w(t),V()}}function S(e,a,t,o){var s=X(e);_&&(s[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||s[a]!==(s[a]=t)&&(a==="loading"&&(e[E]=t),e.removeAttribute(a))}function X(e){return e.__attributes??(e.__attributes={[U]:e.nodeName.includes("-"),[B]:e.namespaceURI===T})}function Y(e,a,t=a){var o=$();q(e,"input",s=>{var r=s?e.defaultValue:e.value;if(r=v(e)?d(r):r,t(r),o&&r!==(r=a())){var n=e.selectionStart,l=e.selectionEnd;e.value=r??"",l!==null&&(e.selectionStart=n,e.selectionEnd=Math.min(l,e.value.length))}}),(_&&e.defaultValue!==e.value||I(a)==null&&e.value)&&t(v(e)?d(e.value):e.value),L(()=>{var s=a();v(e)&&s===d(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function v(e){var a=e.type;return a==="number"||a==="range"}function d(e){return e===""?null:+e}var j=x('<head><title>Spotify Spreadsheet App</title></head> <h1>Spotify Spreadsheet Doohickey</h1> <h2>Please paste the link to your Spotify playlist here</h2> <div class="wrapper"><input type="text" placeholder="https://open.spotify.com/playlist/xxxxxxxx" id="playlist-link"/></div> <div class="wrapper"><button id="load-playlist">Go</button></div>',1);function se(e,a){N(a,!1);const[t,o]=D(),s=()=>K(k,"$token",t);let r=R("");function n(){if(c(r)){const i=c(r).split("/").pop();window.location.href=`/playlist/${i}`}else alert("Please enter a valid Spotify playlist link.")}M(async()=>{const i=await fetch("/api/token");H(k,await i.text()),console.log("Token recieved:",s())}),A();var l=j(),f=p(G(l),6),u=m(f);W(u),y(f);var h=p(f,2),b=m(h);y(h),Y(u,()=>c(r),i=>P(r,i)),C("click",b,n),g(e,l),O(),o()}export{se as component};
